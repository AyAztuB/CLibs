<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>C-libs: logger.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">C-libs<span id="projectnumber">&#160;0.1.0</span>
   </div>
   <div id="projectbrief">Some C utils libraries</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('logger_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">logger.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Thread-safe logger library for debugging purposes in C99.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="util__attributes_8h.html">ayaztub/utils/util_attributes.h</a>&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9dc6c49b86b33b5b3f81883ef02fbfd1" id="r_a9dc6c49b86b33b5b3f81883ef02fbfd1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9dc6c49b86b33b5b3f81883ef02fbfd1">SOURCE_PATH_SIZE</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a9dc6c49b86b33b5b3f81883ef02fbfd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to truncate the root file path.  <br /></td></tr>
<tr class="separator:a9dc6c49b86b33b5b3f81883ef02fbfd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fccb4fc71e44089a1b1a77fc76c0b68" id="r_a5fccb4fc71e44089a1b1a77fc76c0b68"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5fccb4fc71e44089a1b1a77fc76c0b68">__FILENAME__</a>&#160;&#160;&#160;((__FILE__) + (<a class="el" href="#a9dc6c49b86b33b5b3f81883ef02fbfd1">SOURCE_PATH_SIZE</a>))</td></tr>
<tr class="memdesc:a5fccb4fc71e44089a1b1a77fc76c0b68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to adjust the file path based on SOURCE_PATH_SIZE.  <br /></td></tr>
<tr class="separator:a5fccb4fc71e44089a1b1a77fc76c0b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabadde7d5f8f3525736c00118b4949e5" id="r_aabadde7d5f8f3525736c00118b4949e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabadde7d5f8f3525736c00118b4949e5">LOG</a>(lvl, ...)&#160;&#160;&#160;        <a class="el" href="#ab90ee99204ff0ba50b85c0fb1bd460b7">log_message</a>((lvl), <a class="el" href="#a5fccb4fc71e44089a1b1a77fc76c0b68">__FILENAME__</a>, __LINE__, __func__, __VA_ARGS__)</td></tr>
<tr class="memdesc:aabadde7d5f8f3525736c00118b4949e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message using the default log macro.  <br /></td></tr>
<tr class="separator:aabadde7d5f8f3525736c00118b4949e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89cecd05aeaafc715ebc091cf74d10fe" id="r_a89cecd05aeaafc715ebc091cf74d10fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89cecd05aeaafc715ebc091cf74d10fe">LOG_FATAL</a>(...)</td></tr>
<tr class="memdesc:a89cecd05aeaafc715ebc091cf74d10fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a fatal message and exits the program.  <br /></td></tr>
<tr class="separator:a89cecd05aeaafc715ebc091cf74d10fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a8d3b211d107f2e27ed9d85188eab8edb" id="r_a8d3b211d107f2e27ed9d85188eab8edb"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d3b211d107f2e27ed9d85188eab8edb">logger_cb_t</a>) (enum <a class="el" href="#ac91d55174d383848b976a34de843748e">log_level</a> lvl, const char *const colored_message, const char *const raw_message)</td></tr>
<tr class="memdesc:a8d3b211d107f2e27ed9d85188eab8edb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logger callback type.  <br /></td></tr>
<tr class="separator:a8d3b211d107f2e27ed9d85188eab8edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ac91d55174d383848b976a34de843748e" id="r_ac91d55174d383848b976a34de843748e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac91d55174d383848b976a34de843748e">log_level</a> { <br />
&#160;&#160;<a class="el" href="#ac91d55174d383848b976a34de843748ea7ddef0d5f8a0a1af5365f52b373dab9a">LOG_QUITE</a>
, <a class="el" href="#ac91d55174d383848b976a34de843748eac630750884d91cb9767ef2200bbb048b">LOG_FATAL</a>
, <a class="el" href="#ac91d55174d383848b976a34de843748ea230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a>
, <a class="el" href="#ac91d55174d383848b976a34de843748eafd29b63659b10d748c0afb99b7b06ea0">LOG_TIMEOUT</a>
, <br />
&#160;&#160;<a class="el" href="#ac91d55174d383848b976a34de843748eac8041ffa22bc823d4726701cdb13fc13">LOG_WARN</a>
, <a class="el" href="#ac91d55174d383848b976a34de843748ea6e98ff471e3ce6c4ef2d75c37ee51837">LOG_INFO</a>
, <a class="el" href="#ac91d55174d383848b976a34de843748ea5b76dd51db62558b1952158ba38b723f">LOG_TRACE</a>
, <a class="el" href="#ac91d55174d383848b976a34de843748eab9f002c6ffbfd511da8090213227454e">LOG_DEBUG</a>
, <br />
&#160;&#160;<a class="el" href="#ac91d55174d383848b976a34de843748eafd601bcba187210c4af347deabf06e49">LOG_FULL</a>
<br />
 }</td></tr>
<tr class="memdesc:ac91d55174d383848b976a34de843748e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log levels supported by the logger.  <a href="#ac91d55174d383848b976a34de843748e">More...</a><br /></td></tr>
<tr class="separator:ac91d55174d383848b976a34de843748e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6cda152b3e74fc5280f2fc04a11f4470" id="r_a6cda152b3e74fc5280f2fc04a11f4470"><td class="memItemLeft" align="right" valign="top"><a class="el" href="util__attributes_8h.html#a5facd426173a400e33c57d48617b3a66">CONSTRUCTOR</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cda152b3e74fc5280f2fc04a11f4470">logger_init</a> (void)</td></tr>
<tr class="memdesc:a6cda152b3e74fc5280f2fc04a11f4470"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the logger.  <br /></td></tr>
<tr class="separator:a6cda152b3e74fc5280f2fc04a11f4470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bd3de0ee241e4594c569f5e8a01c690" id="r_a8bd3de0ee241e4594c569f5e8a01c690"><td class="memItemLeft" align="right" valign="top"><a class="el" href="util__attributes_8h.html#ae4b16785aced0553a09527fb67c34144">DESTRUCTOR</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8bd3de0ee241e4594c569f5e8a01c690">logger_deinit</a> (void)</td></tr>
<tr class="memdesc:a8bd3de0ee241e4594c569f5e8a01c690"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitializes the logger.  <br /></td></tr>
<tr class="separator:a8bd3de0ee241e4594c569f5e8a01c690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ba77d031efbe7183ed875fa2b068d5" id="r_a08ba77d031efbe7183ed875fa2b068d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08ba77d031efbe7183ed875fa2b068d5">logger_set_format_options</a> (bool show_date, bool show_thread, bool log_trace_on_fatal)</td></tr>
<tr class="memdesc:a08ba77d031efbe7183ed875fa2b068d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures log formatting options.  <br /></td></tr>
<tr class="separator:a08ba77d031efbe7183ed875fa2b068d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63bb2b09bd88f24c2f1decca1d9b9bed" id="r_a63bb2b09bd88f24c2f1decca1d9b9bed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63bb2b09bd88f24c2f1decca1d9b9bed">logger_set_log_level</a> (enum <a class="el" href="#ac91d55174d383848b976a34de843748e">log_level</a> level)</td></tr>
<tr class="memdesc:a63bb2b09bd88f24c2f1decca1d9b9bed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current log level.  <br /></td></tr>
<tr class="separator:a63bb2b09bd88f24c2f1decca1d9b9bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa92717fb0ce600f0229eccf6f0dc8084" id="r_aa92717fb0ce600f0229eccf6f0dc8084"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa92717fb0ce600f0229eccf6f0dc8084">logger_set_log_level_from_string</a> (const char *const <a class="el" href="#ac91d55174d383848b976a34de843748e">log_level</a>) <a class="el" href="util__attributes_8h.html#ada64c64b4206846e8f545c2fbfb3f307">NONNULL</a> <a class="el" href="util__attributes_8h.html#afaf3705ae000be0ee724fe39365d3a75">NULL_TERMINATED_STRING_ARG</a>(1)</td></tr>
<tr class="memdesc:aa92717fb0ce600f0229eccf6f0dc8084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the log level based on a string.  <br /></td></tr>
<tr class="separator:aa92717fb0ce600f0229eccf6f0dc8084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94eebc0a8452a9da82bf353be3460bb6" id="r_a94eebc0a8452a9da82bf353be3460bb6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94eebc0a8452a9da82bf353be3460bb6">logger_set_log_level_from_env</a> (void)</td></tr>
<tr class="memdesc:a94eebc0a8452a9da82bf353be3460bb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the log level based on an environment variable.  <br /></td></tr>
<tr class="separator:a94eebc0a8452a9da82bf353be3460bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26992023b8ac6bca5656df0cbbf824af" id="r_a26992023b8ac6bca5656df0cbbf824af"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26992023b8ac6bca5656df0cbbf824af">logger_set_log_file</a> (const char *const filename) <a class="el" href="util__attributes_8h.html#ada64c64b4206846e8f545c2fbfb3f307">NONNULL</a> <a class="el" href="util__attributes_8h.html#afaf3705ae000be0ee724fe39365d3a75">NULL_TERMINATED_STRING_ARG</a>(1)</td></tr>
<tr class="memdesc:a26992023b8ac6bca5656df0cbbf824af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the output file for log messages.  <br /></td></tr>
<tr class="separator:a26992023b8ac6bca5656df0cbbf824af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a406bdc6fcc685da32a57da4dc2c0d08d" id="r_a406bdc6fcc685da32a57da4dc2c0d08d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a406bdc6fcc685da32a57da4dc2c0d08d">logger_set_log_file_from_env</a> (const char *const default_filename)</td></tr>
<tr class="memdesc:a406bdc6fcc685da32a57da4dc2c0d08d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the output file for log messages based on an environment variable.  <br /></td></tr>
<tr class="separator:a406bdc6fcc685da32a57da4dc2c0d08d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a6ce951c9f1f4695583e7adac885170" id="r_a7a6ce951c9f1f4695583e7adac885170"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a6ce951c9f1f4695583e7adac885170">logger_set_log_fileno</a> (FILE *file) <a class="el" href="util__attributes_8h.html#ada64c64b4206846e8f545c2fbfb3f307">NONNULL</a> <a class="el" href="util__attributes_8h.html#a9f1e66bb9b5234e171ce65fec3b09dde">FD_ARG_WRITE</a>(1)</td></tr>
<tr class="memdesc:a7a6ce951c9f1f4695583e7adac885170"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the file descriptor for log output.  <br /></td></tr>
<tr class="separator:a7a6ce951c9f1f4695583e7adac885170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdf7ddecf73078efbbc3d7267545695c" id="r_acdf7ddecf73078efbbc3d7267545695c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acdf7ddecf73078efbbc3d7267545695c">logger_close_file</a> (void)</td></tr>
<tr class="memdesc:acdf7ddecf73078efbbc3d7267545695c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the current log file, if any.  <br /></td></tr>
<tr class="separator:acdf7ddecf73078efbbc3d7267545695c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac848ee13709493711546f940e4bf8352" id="r_ac848ee13709493711546f940e4bf8352"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac848ee13709493711546f940e4bf8352">logger_set_callback</a> (<a class="el" href="#a8d3b211d107f2e27ed9d85188eab8edb">logger_cb_t</a> callback)</td></tr>
<tr class="memdesc:ac848ee13709493711546f940e4bf8352"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a callback function to handle log messages.  <br /></td></tr>
<tr class="separator:ac848ee13709493711546f940e4bf8352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab90ee99204ff0ba50b85c0fb1bd460b7" id="r_ab90ee99204ff0ba50b85c0fb1bd460b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab90ee99204ff0ba50b85c0fb1bd460b7">log_message</a> (enum <a class="el" href="#ac91d55174d383848b976a34de843748e">log_level</a> level, const char *const file, size_t line, const char *const func, const char *const fmt,...) <a class="el" href="util__attributes_8h.html#ada64c64b4206846e8f545c2fbfb3f307">NONNULL</a> <a class="el" href="util__attributes_8h.html#afaf3705ae000be0ee724fe39365d3a75">NULL_TERMINATED_STRING_ARG</a>(2) <a class="el" href="util__attributes_8h.html#afaf3705ae000be0ee724fe39365d3a75">NULL_TERMINATED_STRING_ARG</a>(4)</td></tr>
<tr class="memdesc:ab90ee99204ff0ba50b85c0fb1bd460b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message with a specified log level.  <br /></td></tr>
<tr class="separator:ab90ee99204ff0ba50b85c0fb1bd460b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad146321d6120055e276a6ffbd7e0c581" id="r_ad146321d6120055e276a6ffbd7e0c581"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad146321d6120055e276a6ffbd7e0c581">log_on_stdout</a> (enum <a class="el" href="#ac91d55174d383848b976a34de843748e">log_level</a>, const char *const, const char *const) <a class="el" href="util__attributes_8h.html#ada64c64b4206846e8f545c2fbfb3f307">NONNULL</a> <a class="el" href="util__attributes_8h.html#afaf3705ae000be0ee724fe39365d3a75">NULL_TERMINATED_STRING_ARG</a>(2) <a class="el" href="util__attributes_8h.html#afaf3705ae000be0ee724fe39365d3a75">NULL_TERMINATED_STRING_ARG</a>(3)</td></tr>
<tr class="memdesc:ad146321d6120055e276a6ffbd7e0c581"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to stdout using the logger callback.  <br /></td></tr>
<tr class="separator:ad146321d6120055e276a6ffbd7e0c581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c0216ca61a3d8879836786a201103de" id="r_a2c0216ca61a3d8879836786a201103de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c0216ca61a3d8879836786a201103de">log_on_stderr</a> (enum <a class="el" href="#ac91d55174d383848b976a34de843748e">log_level</a>, const char *const, const char *const) <a class="el" href="util__attributes_8h.html#ada64c64b4206846e8f545c2fbfb3f307">NONNULL</a> <a class="el" href="util__attributes_8h.html#afaf3705ae000be0ee724fe39365d3a75">NULL_TERMINATED_STRING_ARG</a>(2) <a class="el" href="util__attributes_8h.html#afaf3705ae000be0ee724fe39365d3a75">NULL_TERMINATED_STRING_ARG</a>(3)</td></tr>
<tr class="memdesc:a2c0216ca61a3d8879836786a201103de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a message to stderr using the logger callback.  <br /></td></tr>
<tr class="separator:a2c0216ca61a3d8879836786a201103de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Thread-safe logger library for debugging purposes in C99. </p>
<p>This library provides logging functionality with various log levels, support for callbacks, and options to log to files or standard output. It is designed for debugging and includes features like backtrace logging on fatal errors.</p>
<dl class="section note"><dt>Note</dt><dd>define NOLOG to remove all <a class="el" href="#aabadde7d5f8f3525736c00118b4949e5" title="Logs a message using the default log macro.">LOG()</a> calls</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>As you can remove all <a class="el" href="#aabadde7d5f8f3525736c00118b4949e5" title="Logs a message using the default log macro.">LOG()</a> calls using NOLOG, you MUST NEVER call a function in the <a class="el" href="#aabadde7d5f8f3525736c00118b4949e5" title="Logs a message using the default log macro.">LOG()</a> macro argument as this function call will also be removed.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>define NOLOG will not remove backtrace logs on fatal signals (SIGSEGV, SIGILL, SIGABRT, ...)</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This logger is optimized for debugging and may not be suitable for high-performance logging in production. For release builds, use restrictive log levels or disable logging using NOLOG.</dd>
<dd>
This library is thread-safe but the logger callback registered by the user is called IN the critical section (to ensure logs order consitancy between with the logger core). To avoid deadlocks, the user MUST NEVER do recursive logging and thus MUST NEVER call any logger core functions/macros in the callback provided.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>On fatal error (or signal SIGSEGV, SIGABRT, SIGILL, SIGFPE, SIGBUS), the backtrace may be logged as FATAL. For example, the backtrace log <code>./a.out(+0x21ae) [0x5620024571ae]</code> can be retrieved using addr2line: <code>addr2line -Cfspe ./a.out +0x21ae</code> gives us the function, file and line (with debug flags -g)</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo</a></b></dt><dd>Integrate the addr2line tool in the log_backtrace() function, without any allocation (fatal error may be due to corrupted memory...).</dd></dl>
<p>Usage example: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="logger_8h.html">ayaztub/logger.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line"><span class="preprocessor">#ifndef __GNUC__</span></div>
<div class="line">    <a class="code hl_function" href="#a6cda152b3e74fc5280f2fc04a11f4470">logger_init</a>();</div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">// __GNUC__</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="#a08ba77d031efbe7183ed875fa2b068d5">logger_set_format_options</a>(<span class="keyword">true</span>, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line">    <a class="code hl_function" href="#a63bb2b09bd88f24c2f1decca1d9b9bed">logger_set_log_level</a>(<a class="code hl_enumvalue" href="#ac91d55174d383848b976a34de843748eab9f002c6ffbfd511da8090213227454e">LOG_DEBUG</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a26992023b8ac6bca5656df0cbbf824af">logger_set_log_file</a>(<span class="stringliteral">&quot;logfile.txt&quot;</span>)) {</div>
<div class="line">        <span class="comment">// error on logger setup...</span></div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;Failed to setup logger:&quot;</span></div>
<div class="line">            <span class="stringliteral">&quot; open logfile.txt failed !\n&quot;</span>);</div>
<div class="line">        exit(1);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Log messages of various levels</span></div>
<div class="line">    <a class="code hl_define" href="#aabadde7d5f8f3525736c00118b4949e5">LOG</a>(<a class="code hl_enumvalue" href="#ac91d55174d383848b976a34de843748ea6e98ff471e3ce6c4ef2d75c37ee51837">LOG_INFO</a>, <span class="stringliteral">&quot;This is and informational message.&quot;</span>);</div>
<div class="line">    <a class="code hl_define" href="#aabadde7d5f8f3525736c00118b4949e5">LOG</a>(<a class="code hl_enumvalue" href="#ac91d55174d383848b976a34de843748eac8041ffa22bc823d4726701cdb13fc13">LOG_WARN</a>, <span class="stringliteral">&quot;This is a warning message.&quot;</span>);</div>
<div class="line">    <a class="code hl_define" href="#aabadde7d5f8f3525736c00118b4949e5">LOG</a>(<a class="code hl_enumvalue" href="#ac91d55174d383848b976a34de843748ea230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a>, <span class="stringliteral">&quot;This is an error message.&quot;</span>);</div>
<div class="line">    <a class="code hl_define" href="#aabadde7d5f8f3525736c00118b4949e5">LOG</a>(<a class="code hl_enumvalue" href="#ac91d55174d383848b976a34de843748eab9f002c6ffbfd511da8090213227454e">LOG_DEBUG</a>, <span class="stringliteral">&quot;Debugging details: x = %d, y = %d&quot;</span>, 69, 96);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Demonstarte callback usage (log to stdout)</span></div>
<div class="line">    <a class="code hl_function" href="#ac848ee13709493711546f940e4bf8352">logger_set_callback</a>(<a class="code hl_function" href="#ad146321d6120055e276a6ffbd7e0c581">log_on_stdout</a>);</div>
<div class="line">    <a class="code hl_define" href="#aabadde7d5f8f3525736c00118b4949e5">LOG</a>(<a class="code hl_enumvalue" href="#ac91d55174d383848b976a34de843748ea5b76dd51db62558b1952158ba38b723f">LOG_TRACE</a>, <span class="stringliteral">&quot;Trace message with callback active&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot; (logged on both stdout and logfile.txt).&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// cleanup: logger_close_file() autonatically called by</span></div>
<div class="line">    <span class="comment">// logger_deinit() destructor</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef __GNUC__</span></div>
<div class="line">    <a class="code hl_function" href="#a8bd3de0ee241e4594c569f5e8a01c690">logger_deinit</a>();</div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">// __GNUC__</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="alogger_8h_html"><div class="ttname"><a href="logger_8h.html">logger.h</a></div><div class="ttdoc">Thread-safe logger library for debugging purposes in C99.</div></div>
<div class="ttc" id="alogger_8h_html_a08ba77d031efbe7183ed875fa2b068d5"><div class="ttname"><a href="#a08ba77d031efbe7183ed875fa2b068d5">logger_set_format_options</a></div><div class="ttdeci">void logger_set_format_options(bool show_date, bool show_thread, bool log_trace_on_fatal)</div><div class="ttdoc">Configures log formatting options.</div></div>
<div class="ttc" id="alogger_8h_html_a26992023b8ac6bca5656df0cbbf824af"><div class="ttname"><a href="#a26992023b8ac6bca5656df0cbbf824af">logger_set_log_file</a></div><div class="ttdeci">bool logger_set_log_file(const char *const filename) NONNULL NULL_TERMINATED_STRING_ARG(1)</div><div class="ttdoc">Sets the output file for log messages.</div></div>
<div class="ttc" id="alogger_8h_html_a63bb2b09bd88f24c2f1decca1d9b9bed"><div class="ttname"><a href="#a63bb2b09bd88f24c2f1decca1d9b9bed">logger_set_log_level</a></div><div class="ttdeci">void logger_set_log_level(enum log_level level)</div><div class="ttdoc">Sets the current log level.</div></div>
<div class="ttc" id="alogger_8h_html_a6cda152b3e74fc5280f2fc04a11f4470"><div class="ttname"><a href="#a6cda152b3e74fc5280f2fc04a11f4470">logger_init</a></div><div class="ttdeci">CONSTRUCTOR void logger_init(void)</div><div class="ttdoc">Initializes the logger.</div></div>
<div class="ttc" id="alogger_8h_html_a8bd3de0ee241e4594c569f5e8a01c690"><div class="ttname"><a href="#a8bd3de0ee241e4594c569f5e8a01c690">logger_deinit</a></div><div class="ttdeci">DESTRUCTOR void logger_deinit(void)</div><div class="ttdoc">Deinitializes the logger.</div></div>
<div class="ttc" id="alogger_8h_html_aabadde7d5f8f3525736c00118b4949e5"><div class="ttname"><a href="#aabadde7d5f8f3525736c00118b4949e5">LOG</a></div><div class="ttdeci">#define LOG(lvl,...)</div><div class="ttdoc">Logs a message using the default log macro.</div><div class="ttdef"><b>Definition</b> logger.h:306</div></div>
<div class="ttc" id="alogger_8h_html_ac848ee13709493711546f940e4bf8352"><div class="ttname"><a href="#ac848ee13709493711546f940e4bf8352">logger_set_callback</a></div><div class="ttdeci">void logger_set_callback(logger_cb_t callback)</div><div class="ttdoc">Sets a callback function to handle log messages.</div></div>
<div class="ttc" id="alogger_8h_html_ac91d55174d383848b976a34de843748ea230506cce5c68c3bac5a821c42ed3473"><div class="ttname"><a href="#ac91d55174d383848b976a34de843748ea230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a></div><div class="ttdeci">@ LOG_ERROR</div><div class="ttdef"><b>Definition</b> logger.h:120</div></div>
<div class="ttc" id="alogger_8h_html_ac91d55174d383848b976a34de843748ea5b76dd51db62558b1952158ba38b723f"><div class="ttname"><a href="#ac91d55174d383848b976a34de843748ea5b76dd51db62558b1952158ba38b723f">LOG_TRACE</a></div><div class="ttdeci">@ LOG_TRACE</div><div class="ttdef"><b>Definition</b> logger.h:124</div></div>
<div class="ttc" id="alogger_8h_html_ac91d55174d383848b976a34de843748ea6e98ff471e3ce6c4ef2d75c37ee51837"><div class="ttname"><a href="#ac91d55174d383848b976a34de843748ea6e98ff471e3ce6c4ef2d75c37ee51837">LOG_INFO</a></div><div class="ttdeci">@ LOG_INFO</div><div class="ttdef"><b>Definition</b> logger.h:123</div></div>
<div class="ttc" id="alogger_8h_html_ac91d55174d383848b976a34de843748eab9f002c6ffbfd511da8090213227454e"><div class="ttname"><a href="#ac91d55174d383848b976a34de843748eab9f002c6ffbfd511da8090213227454e">LOG_DEBUG</a></div><div class="ttdeci">@ LOG_DEBUG</div><div class="ttdef"><b>Definition</b> logger.h:125</div></div>
<div class="ttc" id="alogger_8h_html_ac91d55174d383848b976a34de843748eac8041ffa22bc823d4726701cdb13fc13"><div class="ttname"><a href="#ac91d55174d383848b976a34de843748eac8041ffa22bc823d4726701cdb13fc13">LOG_WARN</a></div><div class="ttdeci">@ LOG_WARN</div><div class="ttdef"><b>Definition</b> logger.h:122</div></div>
<div class="ttc" id="alogger_8h_html_ad146321d6120055e276a6ffbd7e0c581"><div class="ttname"><a href="#ad146321d6120055e276a6ffbd7e0c581">log_on_stdout</a></div><div class="ttdeci">void log_on_stdout(enum log_level, const char *const, const char *const) NONNULL NULL_TERMINATED_STRING_ARG(2) NULL_TERMINATED_STRING_ARG(3)</div><div class="ttdoc">Logs a message to stdout using the logger callback.</div></div>
</div><!-- fragment --> </div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a5fccb4fc71e44089a1b1a77fc76c0b68" name="a5fccb4fc71e44089a1b1a77fc76c0b68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fccb4fc71e44089a1b1a77fc76c0b68">&#9670;&#160;</a></span>__FILENAME__</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __FILENAME__&#160;&#160;&#160;((__FILE__) + (<a class="el" href="#a9dc6c49b86b33b5b3f81883ef02fbfd1">SOURCE_PATH_SIZE</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro to adjust the file path based on SOURCE_PATH_SIZE. </p>
<p>This macro modifies the <code>__FILE__</code> macro to remove a specified number of characters from the beginning, making the logged file paths more readable. </p>

</div>
</div>
<a id="aabadde7d5f8f3525736c00118b4949e5" name="aabadde7d5f8f3525736c00118b4949e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabadde7d5f8f3525736c00118b4949e5">&#9670;&#160;</a></span>LOG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">lvl, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)&#160;&#160;&#160;        <a class="el" href="#ab90ee99204ff0ba50b85c0fb1bd460b7">log_message</a>((lvl), <a class="el" href="#a5fccb4fc71e44089a1b1a77fc76c0b68">__FILENAME__</a>, __LINE__, __func__, __VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message using the default log macro. </p>
<p>Usage: </p><div class="fragment"><div class="line"><a class="code hl_define" href="#aabadde7d5f8f3525736c00118b4949e5">LOG</a>(<a class="code hl_enumvalue" href="#ac91d55174d383848b976a34de843748ea6e98ff471e3ce6c4ef2d75c37ee51837">LOG_INFO</a>, <span class="stringliteral">&quot;This is an info message with value: %d&quot;</span>, value);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lvl</td><td>Log level. </td></tr>
    <tr><td class="paramname">...</td><td>Format string and arguments. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="example_logger_8c-example.html#a6">example_logger.c</a>.</dd>
</dl>

</div>
</div>
<a id="a89cecd05aeaafc715ebc091cf74d10fe" name="a89cecd05aeaafc715ebc091cf74d10fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89cecd05aeaafc715ebc091cf74d10fe">&#9670;&#160;</a></span>LOG_FATAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_FATAL</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                                                       \</div>
<div class="line">        LOG(<a class="code hl_define" href="#a89cecd05aeaafc715ebc091cf74d10fe">LOG_FATAL</a>, __VA_ARGS__);                                           \</div>
<div class="line">        exit(1);                                                               \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="alogger_8h_html_a89cecd05aeaafc715ebc091cf74d10fe"><div class="ttname"><a href="#a89cecd05aeaafc715ebc091cf74d10fe">LOG_FATAL</a></div><div class="ttdeci">#define LOG_FATAL(...)</div><div class="ttdoc">Logs a fatal message and exits the program.</div><div class="ttdef"><b>Definition</b> logger.h:318</div></div>
</div><!-- fragment -->
<p>Logs a fatal message and exits the program. </p>
<p>This macro is intended to exit the program even if logging is disabled (with NOLOG defined).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">...</td><td>Format string and arguments. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="example_logger_8c-example.html#a0">example_logger.c</a>.</dd>
</dl>

</div>
</div>
<a id="a9dc6c49b86b33b5b3f81883ef02fbfd1" name="a9dc6c49b86b33b5b3f81883ef02fbfd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dc6c49b86b33b5b3f81883ef02fbfd1">&#9670;&#160;</a></span>SOURCE_PATH_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOURCE_PATH_SIZE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro to truncate the root file path. </p>
<p>This macro is useful when the project is compiled with CMake, allowing for a cleaner file path in logs by removing a fixed number of characters from the start of the <code>__FILE__</code> macro. The default value if the macro wasn't defined earlier is 0. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a8d3b211d107f2e27ed9d85188eab8edb" name="a8d3b211d107f2e27ed9d85188eab8edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d3b211d107f2e27ed9d85188eab8edb">&#9670;&#160;</a></span>logger_cb_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">logger_cb_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logger callback type. </p>
<p>This function is called whenever a log message is generated. It must not call logger functions/macros directly to avoid recursion.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lvl</td><td>Log level of the message. </td></tr>
    <tr><td class="paramname">colored_message</td><td>Log message with formatting (for TTY outputs like stdout). </td></tr>
    <tr><td class="paramname">raw_message</td><td>Log message without formatting (for file outputs). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ac91d55174d383848b976a34de843748e" name="ac91d55174d383848b976a34de843748e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac91d55174d383848b976a34de843748e">&#9670;&#160;</a></span>log_level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ac91d55174d383848b976a34de843748e">log_level</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log levels supported by the logger. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac91d55174d383848b976a34de843748ea7ddef0d5f8a0a1af5365f52b373dab9a" name="ac91d55174d383848b976a34de843748ea7ddef0d5f8a0a1af5365f52b373dab9a"></a>LOG_QUITE&#160;</td><td class="fielddoc"><p>No output </p>
</td></tr>
<tr><td class="fieldname"><a id="ac91d55174d383848b976a34de843748eac630750884d91cb9767ef2200bbb048b" name="ac91d55174d383848b976a34de843748eac630750884d91cb9767ef2200bbb048b"></a>LOG_FATAL&#160;</td><td class="fielddoc"><p>Fatal errors (program will terminate) </p>
</td></tr>
<tr><td class="fieldname"><a id="ac91d55174d383848b976a34de843748ea230506cce5c68c3bac5a821c42ed3473" name="ac91d55174d383848b976a34de843748ea230506cce5c68c3bac5a821c42ed3473"></a>LOG_ERROR&#160;</td><td class="fielddoc"><p>Errors </p>
</td></tr>
<tr><td class="fieldname"><a id="ac91d55174d383848b976a34de843748eafd29b63659b10d748c0afb99b7b06ea0" name="ac91d55174d383848b976a34de843748eafd29b63659b10d748c0afb99b7b06ea0"></a>LOG_TIMEOUT&#160;</td><td class="fielddoc"><p>Timeout warnings </p>
</td></tr>
<tr><td class="fieldname"><a id="ac91d55174d383848b976a34de843748eac8041ffa22bc823d4726701cdb13fc13" name="ac91d55174d383848b976a34de843748eac8041ffa22bc823d4726701cdb13fc13"></a>LOG_WARN&#160;</td><td class="fielddoc"><p>Warnings </p>
</td></tr>
<tr><td class="fieldname"><a id="ac91d55174d383848b976a34de843748ea6e98ff471e3ce6c4ef2d75c37ee51837" name="ac91d55174d383848b976a34de843748ea6e98ff471e3ce6c4ef2d75c37ee51837"></a>LOG_INFO&#160;</td><td class="fielddoc"><p>Informational messages </p>
</td></tr>
<tr><td class="fieldname"><a id="ac91d55174d383848b976a34de843748ea5b76dd51db62558b1952158ba38b723f" name="ac91d55174d383848b976a34de843748ea5b76dd51db62558b1952158ba38b723f"></a>LOG_TRACE&#160;</td><td class="fielddoc"><p>Trace-level debugging </p>
</td></tr>
<tr><td class="fieldname"><a id="ac91d55174d383848b976a34de843748eab9f002c6ffbfd511da8090213227454e" name="ac91d55174d383848b976a34de843748eab9f002c6ffbfd511da8090213227454e"></a>LOG_DEBUG&#160;</td><td class="fielddoc"><p>Debug-level messages </p>
</td></tr>
<tr><td class="fieldname"><a id="ac91d55174d383848b976a34de843748eafd601bcba187210c4af347deabf06e49" name="ac91d55174d383848b976a34de843748eafd601bcba187210c4af347deabf06e49"></a>LOG_FULL&#160;</td><td class="fielddoc"><p>All messages </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab90ee99204ff0ba50b85c0fb1bd460b7" name="ab90ee99204ff0ba50b85c0fb1bd460b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab90ee99204ff0ba50b85c0fb1bd460b7">&#9670;&#160;</a></span>log_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_message </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="#ac91d55174d383848b976a34de843748e">log_level</a></td>          <td class="paramname"><span class="paramname"><em>level</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const</td>          <td class="paramname"><span class="paramname"><em>file</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>line</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const</td>          <td class="paramname"><span class="paramname"><em>func</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const</td>          <td class="paramname"><span class="paramname"><em>fmt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message with a specified log level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>Log level for the message. </td></tr>
    <tr><td class="paramname">file</td><td>Source file name (<b>FILE</b>). </td></tr>
    <tr><td class="paramname">line</td><td>Source line number (<b>LINE</b>). </td></tr>
    <tr><td class="paramname">func</td><td>Source function name (<b>func</b>). </td></tr>
    <tr><td class="paramname">fmt</td><td>Format string for the message. </td></tr>
    <tr><td class="paramname">...</td><td>Additional arguments for the format string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Please use the user friendly <a class="el" href="#aabadde7d5f8f3525736c00118b4949e5" title="Logs a message using the default log macro.">LOG()</a> macro insteed. </dd></dl>

</div>
</div>
<a id="a2c0216ca61a3d8879836786a201103de" name="a2c0216ca61a3d8879836786a201103de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c0216ca61a3d8879836786a201103de">&#9670;&#160;</a></span>log_on_stderr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_on_stderr </td>
          <td>(</td>
          <td class="paramtype">enum</td>          <td class="paramname"><span class="paramname"><em>log_level</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char * const</td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char * const</td>          <td class="paramname"><span class="paramname"></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message to stderr using the logger callback. </p>

</div>
</div>
<a id="ad146321d6120055e276a6ffbd7e0c581" name="ad146321d6120055e276a6ffbd7e0c581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad146321d6120055e276a6ffbd7e0c581">&#9670;&#160;</a></span>log_on_stdout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_on_stdout </td>
          <td>(</td>
          <td class="paramtype">enum</td>          <td class="paramname"><span class="paramname"><em>log_level</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char * const</td>          <td class="paramname"><span class="paramname">, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char * const</td>          <td class="paramname"><span class="paramname"></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a message to stdout using the logger callback. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="example_logger_8c-example.html#a11">example_logger.c</a>.</dd>
</dl>

</div>
</div>
<a id="acdf7ddecf73078efbbc3d7267545695c" name="acdf7ddecf73078efbbc3d7267545695c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdf7ddecf73078efbbc3d7267545695c">&#9670;&#160;</a></span>logger_close_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logger_close_file </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the current log file, if any. </p>
<dl class="section note"><dt>Note</dt><dd>Automatically called by <a class="el" href="#a8bd3de0ee241e4594c569f5e8a01c690" title="Deinitializes the logger.">logger_deinit()</a>. </dd></dl>

</div>
</div>
<a id="a8bd3de0ee241e4594c569f5e8a01c690" name="a8bd3de0ee241e4594c569f5e8a01c690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bd3de0ee241e4594c569f5e8a01c690">&#9670;&#160;</a></span>logger_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="util__attributes_8h.html#ae4b16785aced0553a09527fb67c34144">DESTRUCTOR</a> void logger_deinit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitializes the logger. </p>
<p>This function is called automatically at program termination (destructor attribute). It must not be called directly.</p>
<dl class="section warning"><dt>Warning</dt><dd>If <b>GNUC</b> is not defined, please refer to the example in <a class="el" href="#a6cda152b3e74fc5280f2fc04a11f4470" title="Initializes the logger.">logger_init()</a>. </dd></dl>

</div>
</div>
<a id="a6cda152b3e74fc5280f2fc04a11f4470" name="a6cda152b3e74fc5280f2fc04a11f4470"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cda152b3e74fc5280f2fc04a11f4470">&#9670;&#160;</a></span>logger_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="util__attributes_8h.html#a5facd426173a400e33c57d48617b3a66">CONSTRUCTOR</a> void logger_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the logger. </p>
<p>This function is called automatically at program startup (constructor attribute). It must not be called directly.</p>
<dl class="section warning"><dt>Warning</dt><dd>CONSTRUCTOR is not defined without <b>GNUC</b>. If working with a non GNUC complient compiler, please call it directly at main start. <div class="fragment"><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>) {</div>
<div class="line"><span class="preprocessor">#ifndef __GNUC__</span></div>
<div class="line">    <a class="code hl_function" href="#a6cda152b3e74fc5280f2fc04a11f4470">logger_init</a>();</div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">// __GNUC__</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// program code</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef __GNUC__</span></div>
<div class="line">    <a class="code hl_function" href="#a8bd3de0ee241e4594c569f5e8a01c690">logger_deinit</a>();</div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">// __GNUC__</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="ac848ee13709493711546f940e4bf8352" name="ac848ee13709493711546f940e4bf8352"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac848ee13709493711546f940e4bf8352">&#9670;&#160;</a></span>logger_set_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logger_set_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a8d3b211d107f2e27ed9d85188eab8edb">logger_cb_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a callback function to handle log messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>Pointer to the callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="example_logger_8c-example.html#a10">example_logger.c</a>.</dd>
</dl>

</div>
</div>
<a id="a08ba77d031efbe7183ed875fa2b068d5" name="a08ba77d031efbe7183ed875fa2b068d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ba77d031efbe7183ed875fa2b068d5">&#9670;&#160;</a></span>logger_set_format_options()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logger_set_format_options </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>show_date</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>show_thread</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>log_trace_on_fatal</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures log formatting options. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">show_date</td><td>Whether to include the current date in log messages. </td></tr>
    <tr><td class="paramname">show_thread</td><td>Whether to include thread identifiers in log messages. </td></tr>
    <tr><td class="paramname">log_trace_on_fatal</td><td>Whether to log a backtrace on fatal errors or signals.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>All options are true by default. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="example_logger_8c-example.html#a1">example_logger.c</a>.</dd>
</dl>

</div>
</div>
<a id="a26992023b8ac6bca5656df0cbbf824af" name="a26992023b8ac6bca5656df0cbbf824af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26992023b8ac6bca5656df0cbbf824af">&#9670;&#160;</a></span>logger_set_log_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool logger_set_log_file </td>
          <td>(</td>
          <td class="paramtype">const char *const</td>          <td class="paramname"><span class="paramname"><em>filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the output file for log messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Path to the log file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the file was successfully opened, <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="a406bdc6fcc685da32a57da4dc2c0d08d" name="a406bdc6fcc685da32a57da4dc2c0d08d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a406bdc6fcc685da32a57da4dc2c0d08d">&#9670;&#160;</a></span>logger_set_log_file_from_env()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool logger_set_log_file_from_env </td>
          <td>(</td>
          <td class="paramtype">const char *const</td>          <td class="paramname"><span class="paramname"><em>default_filename</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the output file for log messages based on an environment variable. </p>
<p>The logger will look for the environment variable <code>LOG_FILE</code> and configure the output file accordingly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">default_filename</td><td>Path to the log path if the environment variable was not found. (can be NULL) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if environment variable <code>LOG_FILE</code> exists and was successfully opened OR if default_filename is not NULL and was successfully opened, <code>false</code> otherwise (1- LOG_FILE env variable exists but file cannot be opened, 2- LOG_FILE env variable does not exists and default_filename is NULL, 3- LOG_FILE env variable does not exists and default_filename cannot be opened) </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="example_logger_8c-example.html#a5">example_logger.c</a>.</dd>
</dl>

</div>
</div>
<a id="a7a6ce951c9f1f4695583e7adac885170" name="a7a6ce951c9f1f4695583e7adac885170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a6ce951c9f1f4695583e7adac885170">&#9670;&#160;</a></span>logger_set_log_fileno()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool logger_set_log_fileno </td>
          <td>(</td>
          <td class="paramtype">FILE *</td>          <td class="paramname"><span class="paramname"><em>file</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the file descriptor for log output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>A valid file pointer for output. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the file descriptor is valid, <code>false</code> otherwise.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The file descriptor must not be closed by the user after this function call. If you want to close it, please refer to the <a class="el" href="#acdf7ddecf73078efbbc3d7267545695c" title="Closes the current log file, if any.">logger_close_file()</a> function. </dd></dl>

</div>
</div>
<a id="a63bb2b09bd88f24c2f1decca1d9b9bed" name="a63bb2b09bd88f24c2f1decca1d9b9bed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63bb2b09bd88f24c2f1decca1d9b9bed">&#9670;&#160;</a></span>logger_set_log_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logger_set_log_level </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="#ac91d55174d383848b976a34de843748e">log_level</a></td>          <td class="paramname"><span class="paramname"><em>level</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the current log level. </p>
<p>Messages below the specified level will not be logged.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>The desired log level. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="example_logger_8c-example.html#a2">example_logger.c</a>.</dd>
</dl>

</div>
</div>
<a id="a94eebc0a8452a9da82bf353be3460bb6" name="a94eebc0a8452a9da82bf353be3460bb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94eebc0a8452a9da82bf353be3460bb6">&#9670;&#160;</a></span>logger_set_log_level_from_env()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logger_set_log_level_from_env </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the log level based on an environment variable. </p>
<p>The logger will look for the environment variable <code>LOG_LEVEL</code> and configure the level accordingly. The environment variable <code>LOG_LEVEL</code> value must follow the same format as the string parameter accepted by <a class="el" href="#aa92717fb0ce600f0229eccf6f0dc8084" title="Sets the log level based on a string.">logger_set_log_level_from_string()</a>. </p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="example_logger_8c-example.html#a4">example_logger.c</a>.</dd>
</dl>

</div>
</div>
<a id="aa92717fb0ce600f0229eccf6f0dc8084" name="aa92717fb0ce600f0229eccf6f0dc8084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa92717fb0ce600f0229eccf6f0dc8084">&#9670;&#160;</a></span>logger_set_log_level_from_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logger_set_log_level_from_string </td>
          <td>(</td>
          <td class="paramtype">const char *const</td>          <td class="paramname"><span class="paramname"><em>log_level</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the log level based on a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_level</td><td>String representation of the log level (e.g., "INFO", "DEBUG", "LOG_INFO", "LOG_DEBUG"). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_a6cfef18da99c3955ca9857d1b0683e1.html">ayaztub</a></li><li class="navelem"><a class="el" href="logger_8h.html">logger.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
